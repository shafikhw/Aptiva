Below is a clean human-readable description of **every input field** for the Apartments.com search model. (url_complex.py)
Each field includes:

1. **Type**
2. **Description** (what the field means, internal logic, pitfalls)
3. **Style / Example** (how it should be formatted for reliable URL generation)

This is a documentation for developers building a scraper or API.

---

# **Apartments.com Search Input Field Guide**

---

## **city**, **state**

**Type:** string, string
**Description:**
City/neighborhood name and a **required** US state to build the slug.
Neighborhoods can be included in the city string
(ex: “Koreatown Los Angeles”).
Commas are optional; formatting is normalized.

**Style Example:**
`city="Los Angeles", state="CA"`
`city="Midtown Atlanta Atlanta", state="GA"`

If either city or state is missing, the URL will not resolve.

---

## **near_me**

**Type:** boolean
**Description:**
When `True`, the URL becomes a near-me search and **ignores the city/state fields entirely**.
Produces URLs like `/near-me/apartments-for-rent/`.
No beds, baths, or price filters are encoded in the URL for near-me searches.

**Style Example:**
`True`
`False`

---

## **property_type**

**Type:** enum { apartments, houses, condos, townhomes, lofts }
**Description:**
Controls the base search category.
Most property types appear as a **prefix**:

* `/houses/city/`
* `/condos/city/`
  Lofts appear as a **trailing segment**:
* `/city/lofts/`

**Style Example:**
`PropertyType.HOUSES`
`PropertyType.APARTMENTS`

---

## **min_beds**, **max_beds**

**Type:** integer
**Description:**
Controls bedroom filters.
Recognized patterns include:

* `2-bedrooms`
* `min-2-bedrooms`
* `1-to-3-bedrooms`

If both values are given, the URL will generate a range only if valid.
If both match (min == max), it becomes exact.

**Style Example:**
`min_beds = 1`
`max_beds = 2`
`min_beds = 2, max_beds = 2  → "2-bedrooms"`

---

## **min_baths**, **max_baths**

**Type:** float or int
**Description:**
Used only as **minimum baths** in slugs when beds also exist.
Examples:
`1-bathrooms`, `2-bathrooms`
Fractions like 1.5 are rounded down (1+).

**Style Example:**
`min_baths = 1`

---

## **min_rent**, **max_rent**

**Type:** integer
**Description:**
Controls price filters.
Recognized URL formats:

* `under-1500`
* `600-to-1200`

If only `min_rent` is provided (no max), it cannot create a valid slug
because Apartments.com has **no stable “over-XXXX”** URL format.

**Style Example:**
`max_rent = 2000` → `/under-2000/`
`min_rent = 1000, max_rent = 1800` → `/1000-to-1800/`

---

## **lifestyle**

**Type:** enum { student, senior, corporate, military, short_term }
**Description:**
Generates lifestyle-specific pages:

* `/city/student-housing/`
* `/city/senior-housing/`
* `/city/military/`

These **override** numeric slugs.
You cannot combine lifestyle + beds/baths/rent in URL form.

**Style Example:**
`Lifestyle.STUDENT`

---

## **pet_friendly**

**Type:** boolean
**Description:**
Activates pet filtering.
If `True` without specifying a pet type → `/pet-friendly/`

---

## **pet_type**

**Type:** enum { dog, cat }
**Description:**
Used only when `pet_friendly = True`.
Produces:

* `/pet-friendly-dog/`
* `/pet-friendly-cat/`

If pet_friendly is False → pet_type is ignored.

**Style Example:**
`pet_friendly=True, pet_type=PetType.DOG`

---

## **cheap_only**

**Type:** boolean
**Description:**
Dedicated “cheap” pages exist only at city-level apartment searches.
Examples:

* `/los-angeles-ca/cheap/`
* `/near-me/cheap-apartments-for-rent/`

Cannot combine with beds/baths/price/pet slugs.

**Style Example:**
`cheap_only=True`

---

## **utilities_included**

**Type:** boolean
**Description:**
Generates pages like:

* `/city/utilities-included/`
* `/near-me/utilities-included-apartments/`

Only works when **not** mixing with numeric filters.

**Style Example:**
`utilities_included=True`

---

## **amenity_slugs**

**Type:** List[str]
**Description:**
Allows one amenity-based page only when no numeric filters are present.
Examples found on Apartments.com:

* `washer-dryer`
* `yard`
* `balcony`
* `air-conditioning`
* `ev-charging`

Only the **first** amenity in the list is used.

**Style Example:**
`amenity_slugs=["washer-dryer"]` → `/city/washer-dryer/`

---

## **rooms_for_rent**

**Type:** boolean
**Description:**
An exclusive mode.
Generates:

* `/city/rooms-for-rent/`
  Cannot combine with numeric slugs or lifestyle.

**Style Example:**
`rooms_for_rent=True`

---

## **keyword**

**Type:** string
**Description:**
Not encoded in the URL.
Used only internally by your scraper.
Apartments.com handles keyword search through internal JavaScript and query tokens.

**Style Example:**
`keyword="downtown view"`

---

## **frbo_only**

**Type:** boolean
**Description:**
FRBO (For Rent By Owner) **does NOT map to a predictable URL** on Apartments.com.
Actual FRBO pages exist as stand-alone filters, not generated as slugs.
This field is metadata only.

**Style Example:**
`frbo_only=True`

---

## **rating_min**

**Type:** float
**Description:**
Not in URL.
Ratings are handled inside Apartments.com’s internal query engine.

**Style Example:**
`rating_min=4.0`

---

## **commute_minutes_max**

**Type:** int
**Description:**
Not encoded in URL.
Commute searching is part of a JavaScript state with map tokens.

**Style Example:**
`commute_minutes_max=30`

---

## **page**

**Type:** integer
**Description:**
Controls pagination.
Appears at the **end** of the path:

`/los-angeles-ca/2-bedrooms/3/`

Page 1 never appears in the URL.

**Style Example:**
`page=3` → `/3/`

---

# Summary of formats that *must* be correct

1. **City searches MUST include both city and state.**
   `city="Los Angeles"` → ❌
   `city="Los Angeles", state="CA"` → ✔️

2. **Numeric ranges must be valid.**
   min beds:2 max beds:1 → invalid
   min rent only → ignored

3. **Lifestyles override numeric filters.**

4. **Rooms for rent pages stand alone.**

5. **Only one amenity slug is used.**

6. **Near me mode ignores the city/state fields.**
